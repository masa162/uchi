# 🔍 開発品質管理チェックリスト

## 概要
このチェックリストは「誰が・どこで・何を・何のために」作業したかを確実に記録し、ローカル・本番環境でのファイル残渣を防ぐための品質管理システムです。

---

## 📝 作業開始前チェックリスト

### ✅ 環境準備チェック
- [ ] **CLAUDE.md確認**: 最新の開発規約・SSH情報・環境設定を確認
- [ ] **PROJECT_MANAGEMENT.md確認**: 現在の最高/高優先度タスクを確認
- [ ] **Git状態確認**: 未コミット変更がないか `git status` で確認
- [ ] **作業環境クリーン**: 不要なプロセス・ファイルがないか確認

### ✅ 作業者・目的明確化
- [ ] **作業者特定**: Claude Code / 人間（名前）を明記
- [ ] **作業目的記録**: 機能追加・バグ修正・リファクタリング等の分類
- [ ] **対象システム特定**: フロントエンド・バックエンド・インフラ等
- [ ] **影響範囲予測**: 変更が他システムに与える影響を事前評価

---

## 🏗️ 実装中チェックリスト

### ✅ フロントエンド実装チェック
- [ ] **TypeScript型安全**: 型エラーがないか `npm run type-check` で確認
- [ ] **レスポンシブ対応**: モバイル・タブレット・PC で表示確認
- [ ] **アクセシビリティ**: キーボード操作・スクリーンリーダー対応
- [ ] **パフォーマンス**: 不要な再レンダリング・メモリリークの確認
- [ ] **SEO対応**: meta情報・structured data の適切性
- [ ] **ブラウザ互換性**: Chrome・Firefox・Safari での動作確認

### ✅ バックエンド実装チェック
- [ ] **API設計**: RESTful設計・適切なHTTPステータスコード
- [ ] **データ検証**: 入力値検証・SQLインジェクション対策
- [ ] **エラーハンドリング**: 例外処理・ログ記録の適切性
- [ ] **パフォーマンス**: N+1問題・インデックス設定の確認
- [ ] **セキュリティ**: 認証・認可・CORS設定の確認
- [ ] **データベース整合性**: Foreign Key制約・トランザクション設計

### ✅ インフラ・DevOps チェック
- [ ] **環境変数管理**: 本番・開発環境での適切な分離
- [ ] **依存関係管理**: package.json の dependencies/devDependencies 分離
- [ ] **ビルド確認**: 本番ビルドが成功するか確認
- [ ] **デプロイ手順**: 手動手順の自動化・ロールバック準備
- [ ] **監視設定**: ヘルスチェック・ログ監視の設定確認
- [ ] **バックアップ**: データベース・重要ファイルのバックアップ確認

---

## 🧹 作業完了後チェックリスト

### ✅ ファイル残渣クリーンアップ
- [ ] **一時ファイル削除**: `.tmp`・ログファイル・キャッシュファイル
- [ ] **設定ファイル整理**: 開発用設定が本番環境に残っていないか
- [ ] **未使用ファイル削除**: 古いコンポーネント・使用していないアセット
- [ ] **Git履歴クリーン**: 不要なコミット・大きなファイルの履歴確認
- [ ] **環境固有ファイル確認**: `.env.local`・IDE設定等の除外確認

### ✅ テスト・品質確認
- [ ] **単体テスト実行**: 新機能・修正箇所のテスト実行
- [ ] **統合テスト実行**: システム全体の動作確認
- [ ] **リグレッションテスト**: 既存機能に影響がないか確認
- [ ] **パフォーマンステスト**: 応答時間・スループットの確認
- [ ] **セキュリティテスト**: 脆弱性スキャン・ペネトレーション確認

### ✅ ドキュメント・記録更新
- [ ] **作業ログ記録**: `auto-log-update.sh` での自動記録
- [ ] **README更新**: 新機能・変更点の説明追加
- [ ] **API仕様更新**: 新API・既存API変更の文書化
- [ ] **デプロイ手順更新**: 環境設定変更・新規依存関係の記録
- [ ] **トラブルシューティング更新**: 発生した問題・解決方法の記録

---

## 🚀 デプロイ前チェックリスト

### ✅ 本番環境準備
- [ ] **環境変数確認**: 本番環境固有の設定値が正しいか
- [ ] **依存関係確認**: 本番環境で必要な依存関係がインストール可能か
- [ ] **ビルド実行**: 本番ビルドが成功することを確認
- [ ] **データベース移行**: Prismaマイグレーションの安全な実行
- [ ] **外部サービス連携**: API キー・OAuth 設定の動作確認
- [ ] **SSL証明書**: HTTPS証明書の有効期限・設定確認

### ✅ デプロイ実行
- [ ] **メンテナンスモード**: 必要に応じてメンテナンス画面表示
- [ ] **バックアップ作成**: デプロイ前の完全バックアップ
- [ ] **段階的デプロイ**: 可能であればBlue-Green・カナリアデプロイ
- [ ] **ロールバック準備**: 問題発生時の即座復旧手順確認
- [ ] **監視強化**: デプロイ中・直後の監視体制強化

### ✅ デプロイ後検証
- [ ] **基本機能確認**: 主要機能の正常動作確認
- [ ] **認証機能確認**: ログイン・ログアウト・権限確認
- [ ] **パフォーマンス確認**: レスポンス時間・リソース使用率
- [ ] **エラー監視**: ログ・エラー率の監視
- [ ] **ユーザー影響確認**: 実際のユーザー操作での動作確認

---

## 📊 作業トレーサビリティ管理

### ✅ 必須記録項目
- [ ] **作業者**: 実行者の明確化（Claude Code / 人間名）
- [ ] **作業時間**: 開始・終了時刻の記録
- [ ] **対象ファイル**: 変更・作成・削除したファイルの一覧
- [ ] **作業目的**: なぜその作業が必要だったか
- [ ] **影響範囲**: 他システムへの影響・依存関係
- [ ] **テスト結果**: 実行したテスト・結果・問題点
- [ ] **残課題**: 未完了・後回し事項の記録

### ✅ 自動記録システム
- [ ] **Git コミット**: 適切なコミットメッセージでの記録
- [ ] **作業ログCSV**: `auto-log-update.sh`での自動記録
- [ ] **セッション状態**: `.session-state`での作業継続性確保
- [ ] **PROJECT_MANAGEMENT.md**: プロジェクト全体状況の更新

---

## 🔄 定期メンテナンス チェックリスト

### ✅ 週次チェック
- [ ] **依存関係更新**: npm audit・セキュリティアップデート
- [ ] **ログローテーション**: 古いログファイルの削除・アーカイブ
- [ ] **データベースメンテナンス**: インデックス最適化・統計更新
- [ ] **バックアップ検証**: バックアップの完全性・復元テスト
- [ ] **監視システム確認**: アラート・ダッシュボードの動作確認

### ✅ 月次チェック
- [ ] **セキュリティ監査**: 脆弱性スキャン・セキュリティパッチ適用
- [ ] **パフォーマンス分析**: APM データ・ボトルネック特定
- [ ] **容量管理**: ディスク・メモリ使用量の傾向分析
- [ ] **ドキュメント更新**: 仕様変更・運用手順の最新化
- [ ] **災害復旧テスト**: バックアップからの完全復旧テスト

---

## 🚨 問題発生時チェックリスト

### ✅ 初期対応
- [ ] **問題特定**: 症状・影響範囲・緊急度の評価
- [ ] **ログ収集**: エラーログ・アクセスログ・システムログの収集
- [ ] **関係者通知**: 影響を受けるステークホルダーへの連絡
- [ ] **一時対策**: 可能な限りの暫定復旧・被害拡大防止
- [ ] **記録開始**: 問題発生時刻・対応手順の詳細記録

### ✅ 根本解決
- [ ] **原因調査**: ログ分析・コードレビュー・環境調査
- [ ] **修正実装**: 根本原因への対策実装
- [ ] **テスト実行**: 修正の動作確認・リグレッションテスト
- [ ] **デプロイ**: 慎重な本番環境への適用
- [ ] **事後検証**: 問題解決の確認・再発防止策の検討

### ✅ 改善・学習
- [ ] **ポストモーテム**: 問題の全容・対応・改善点の文書化
- [ ] **プロセス改善**: 再発防止のためのプロセス・ツール改善
- [ ] **知識共有**: チーム・組織への学習内容の共有
- [ ] **監視強化**: 類似問題の早期発見のための監視改善

---

## 📈 品質メトリクス

### ✅ 追跡指標
- **コード品質**: TypeScript型カバレッジ・ESLint警告数
- **テスト品質**: テストカバレッジ・テスト実行時間
- **パフォーマンス**: ページロード時間・API応答時間
- **セキュリティ**: 脆弱性数・セキュリティスキャン結果
- **可用性**: アップタイム・エラー率・復旧時間
- **開発効率**: デプロイ頻度・リードタイム・MTTR

### ✅ 改善アクション
- **品質低下時**: 即座の修正・根本原因調査
- **目標未達成時**: プロセス見直し・ツール改善
- **継続的改善**: 定期レビュー・ベストプラクティス更新

---

このチェックリストを使用することで、作業の透明性・トレーサビリティ・品質を確保し、ファイル残渣問題を防ぎ、継続的な改善を実現します。