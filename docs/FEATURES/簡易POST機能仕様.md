# 簡易POST機能仕様書

**作成日**: 2025年8月13日  
**機能ID**: F001  
**優先度**: 🔴 高優先度  
**目的**: Twitter風のシンプルな投稿機能で投稿障壁を大幅に下げる

---

## 📋 機能概要

### 基本コンセプト
- **シンプル第一**: 最小限の入力で投稿完了
- **迅速投稿**: 3ステップ以内で完了
- **後から編集**: 詳細は後から追加可能

### UI設計方針
```
┌─────────────────────────────────────┐
│ 💭 今日の思い出を一言で...            │
│ ┌─────────────────────────────────┐ │
│ │                               │ │
│ │  ここにテキストを入力...         │ │
│ │                               │ │
│ └─────────────────────────────────┘ │
│                        [投稿する]    │
└─────────────────────────────────────┘
```

---

## 🎯 機能仕様

### 入力項目（最小限）
1. **本文** (必須)
   - プレースホルダー: "今日の思い出を一言で..."
   - 最大文字数: 1000文字
   - 改行対応
   - 絵文字対応

### 自動生成項目
1. **タイトル**
   - 生成ルール: "YYYY年MM月DD日の記録"
   - 例: "2025年8月13日の記録"

2. **スラッグ**
   - 既存システム利用: `YYYYMMDD001`形式

3. **その他**
   - category: null (後から編集可能)
   - tags: [] (後から編集可能)
   - description: 本文の先頭100文字
   - heroImageUrl: null

---

## 🛠️ 技術仕様

### API設計
**エンドポイント**: `/api/articles/simple`  
**メソッド**: POST  
**リクエスト**:
```json
{
  "content": "今日は家族で公園に行きました。子どもたちが楽しそうでした。"
}
```

**レスポンス**:
```json
{
  "id": "article123",
  "title": "2025年8月13日の記録", 
  "slug": "20250813001",
  "content": "今日は家族で公園に行きました。子どもたちが楽しそうでした。",
  "description": "今日は家族で公園に行きました。子どもたちが楽しそうでした。",
  "createdAt": "2025-08-13T07:30:00.000Z"
}
```

### データフロー
1. ユーザー入力 → バリデーション
2. タイトル自動生成 → スラッグ生成  
3. 説明文自動作成 → DB保存
4. 投稿完了 → 記事一覧にリダイレクト

---

## 🎨 UI/UXデザイン

### レスポンシブ対応
- **デスクトップ**: 中央配置、最大幅600px
- **タブレット**: 余白調整、タッチフレンドリー
- **スマートフォン**: フル幅、大きなテキストエリア

### アクセシビリティ
- キーボードナビゲーション対応
- スクリーンリーダー対応
- 高コントラスト対応

### アニメーション
- 投稿ボタン: ホバーエフェクト
- 送信中: ローディングアニメーション
- 完了: フェードアウト → リダイレクト

---

## 🔗 既存システム統合

### 認証
- 既存AuthContext使用
- 未ログイン時はログインページへリダイレクト

### データベース
- 既存Prisma Article modelを活用
- 追加フィールドなし（既存schema互換）

### ルーティング
- **新規**: `/articles/simple` (簡易POST)
- **既存**: `/articles/new` (詳細POST)

---

## 📱 モバイルファースト設計

### タッチ最適化
- テキストエリア: 最小高さ120px
- 投稿ボタン: 最小44x44px (Appleガイドライン準拠)
- フォーカス状態: 明確な視覚的フィードバック

### パフォーマンス
- 軽量コンポーネント設計
- 不要なライブラリ排除
- 高速レンダリング重視

---

## 🧪 品質保証

### テスト項目
- [ ] 基本投稿機能
- [ ] バリデーション動作
- [ ] 認証チェック  
- [ ] レスポンシブ表示
- [ ] エラーハンドリング

### パフォーマンス目標
- 初回表示: 1秒以内
- 投稿完了: 3秒以内
- モバイル表示: スムーズ

---

## 🚀 段階的展開

### Phase 1 (初期実装)
- [x] 仕様策定
- [ ] 基本UI実装
- [ ] API実装
- [ ] 基本テスト

### Phase 2 (機能拡張) 
- [ ] 下書き保存機能
- [ ] 文字数カウンター
- [ ] プレビュー機能

### Phase 3 (最適化)
- [ ] パフォーマンス最適化
- [ ] アクセシビリティ強化
- [ ] 多言語対応

---

## 🎯 成功指標

### 利用率目標
- 簡易POST: 詳細POSTの2倍の利用頻度
- 投稿完了率: 90%以上
- モバイル投稿率: 60%以上

### ユーザビリティ目標
- 投稿完了時間: 平均30秒以内
- エラー発生率: 5%以下
- ユーザー満足度: 8/10以上

---

**責任者**: Claude Code Assistant + 中山雅之  
**実装期限**: 2025年8月20日  
**レビュー日**: 2025年8月15日